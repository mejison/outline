(function(e){function t(t){for(var i,s,r=t[0],o=t[1],c=t[2],p=0,f=[];p<r.length;p++)s=r[p],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&f.push(n[s][0]),n[s]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);u&&u(t);while(f.length)f.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],i=!0,r=1;r<a.length;r++){var o=a[r];0!==n[o]&&(i=!1)}i&&(l.splice(t--,1),e=s(s.s=a[0]))}return e}var i={},n={app:0},l=[];function s(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=i,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(a,i,function(t){return e[t]}.bind(null,i));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=o;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},4030:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("google-map",{attrs:{markers:e.markers}}),a("side-bar",{attrs:{counters:e.counters}})],1)},l=[],s=a("5530"),r=(a("caad"),a("99af"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar"},[a("div",{staticClass:"container"},[a("div",{staticClass:"stat"},[a("div",{staticClass:"period"},[a("h2",[e._v("In real time so far")]),a("switcher",{attrs:{options:e.states},model:{value:e.currentState,callback:function(t){e.currentState=t},expression:"currentState"}})],1),a("div",{staticClass:"visits"},[e._v(" Gospel Visits "),a("span",{staticClass:"value"},[e._v(e._s(e.numeral(e.counters[e.currentState].visit).format("0,000")))])]),a("div",{staticClass:"salvations"},[e._v(" Indicated Decisions "),a("span",{staticClass:"value"},[e._v(e._s(e.numeral(e.counters[e.currentState].salvation).format("0,000")))])]),a("div",{staticClass:"discipleship"},[e._v(" Discipleship Activity "),a("span",{staticClass:"value"},[e._v(e._s(e.numeral(e.counters[e.currentState].discipleship).format("0,000")))])])])])])}),o=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"switch-field"},[e._l(e.options,(function(t,i){return[a("input",{key:i+"-input",attrs:{type:"radio",id:t.value,name:"switcher"},domProps:{value:t.value,checked:e.payload===t.value},on:{change:e.onChange}}),a("label",{key:i+"-label",attrs:{for:t.value}},[e._v(e._s(t.label))])]}))],2)},u=[],p={name:"Switcher",props:{options:{type:Array,default:function(){return[]}},value:{type:String,default:""}},data:function(){return{payload:this.value?this.value:""}},methods:{onChange:function(e){this.$emit("input",e.target.value)}}},f=p,y=(a("dac5"),a("2877")),d=Object(y["a"])(f,c,u,!1,null,"4bedf932",null),m=d.exports,v=a("6612"),h=a.n(v),g={name:"SideBar",props:["counters"],components:{Switcher:m},data:function(){return{numeral:h.a,states:[{label:"TODAY",value:"today"},{label:"YTD",value:"yesterday"},{label:"ALLTIME",value:"all"}],currentState:"today"}}},b=g,T=(a("a736"),Object(y["a"])(b,r,o,!1,null,null,null)),w=T.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"map"},[a("div",{ref:"googleMap",staticClass:"google-map"})])},_=[],O=a("1da1"),S=(a("96cf"),a("90d7"),a("d3b7"),a("159b"),a("d81d"),a("4272")),j={name:"Map",props:["markers"],data:function(){return{google:null,map:null,apiKey:"AIzaSyB0MA1eideexmAUX4ZivDjonU-ba4_iAbk",mapConfig:{zoom:Math.ceil(Math.log2(window.outerWidth))-9,disableDefaultUI:!0,draggable:!1,zoomControl:!1,scrollwheel:!1,disableDoubleClickZoom:!0,styles:[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"administrative.country",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"administrative.country",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"all",stylers:[{visibility:"simplified"},{saturation:"-100"},{lightness:"30"}]},{featureType:"administrative.neighborhood",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{visibility:"simplified"},{gamma:"0.00"},{lightness:"74"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{lightness:"3"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}]}}},mounted:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.initializeMap(),setTimeout((function(){}),2e3);case 2:case"end":return t.stop()}}),t)})))()},watch:{markers:function(){var e=this;this.markers.forEach((function(t){e.drawMarker(t)}))}},methods:{initializeMap:function(){var e=this,t=new S["a"]({apiKey:this.apiKey,version:"weekly",libraries:["places"],language:"en"});t.load().then((function(t){e.google=t,e.map=new t.maps.Map(e.$refs.googleMap,Object(s["a"])(Object(s["a"])({},e.mapConfig),{},{center:new t.maps.LatLng(0,0)}))})).catch((function(e){console.error(e)}))},drawMarker:function(e){var t=new this.google.maps.MarkerImage("",null,null,new this.google.maps.Point(8,8),new this.google.maps.Size(17,17)),a=new this.google.maps.Marker({flat:!0,icon:t,map:this.map,optimized:!1,position:{lat:1*e.latitude,lng:1*e.longitude},title:e.type,visible:!0});setTimeout((function(){a.setMap(null)}),1500)}}},C=j,M=(a("894b"),Object(y["a"])(C,k,_,!1,null,null,null)),x=M.exports,A=a("bc3a"),D=a.n(A),P={name:"App",components:{SideBar:w,GoogleMap:x},data:function(){return{apiUrl:"",counters:{today:{visit:0,salvation:0,discipleship:0},yesterday:{visit:0,salvation:0,discipleship:0},all:{visits:0,salvation:0,discipleship:0}},markers:[],socket:null}},mounted:function(){this.initApiUrl(),this.initSocket(),this.getData()},methods:{initApiUrl:function(){["localhost"].includes(location.hostname)?this.apiUrl="".concat(location.protocol,"//").concat(location.hostname,":3000"):this.apiUrl="".concat(location.protocol,"//").concat(location.hostname)},getData:function(){var e=this;D.a.get("".concat(this.apiUrl,"/api/v1/get")).then((function(t){var a=t.data.data;e.counters=Object(s["a"])({},a)}))},initSocket:function(){var e=this;window.io&&(this.socket=window.io("".concat(location.protocol,"//").concat(location.hostname)),this.socket.on("add",(function(t){if(t){var a=t.updateCounters;e.counters=Object(s["a"])({},a),console.log(t),e.markers=[Object(s["a"])({},t)]}})))}}},U=P,z=(a("034f"),Object(y["a"])(U,n,l,!1,null,null,null)),$=z.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e($)}}).$mount("#app")},"85ec":function(e,t,a){},"894b":function(e,t,a){"use strict";a("a8f9")},a0a6:function(e,t,a){},a736:function(e,t,a){"use strict";a("a0a6")},a8f9:function(e,t,a){},dac5:function(e,t,a){"use strict";a("4030")}});
//# sourceMappingURL=app.e85bd2a3.js.map